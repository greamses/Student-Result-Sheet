<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management System</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <nav class="bg-blue-600 p-4">
        <div class="container mx-auto">
            <h1 class="text-white text-2xl font-bold">School Management System</h1>
            <div class="mt-2">
                <button onclick="showSection('students')" class="text-white mr-4 hover:text-blue-200">Students</button>
                <button onclick="showSection('teachers')" class="text-white mr-4 hover:text-blue-200">Teachers</button>
                <button onclick="showSection('classes')" class="text-white hover:text-blue-200">Classes</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto mt-8 p-4">
        <!-- Students Section -->
        <section id="students" class="section">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">Student Management</h2>
                <button onclick="showModal('studentModal')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Add Student
                </button>
            </div>
            
            <div class="bg-white rounded-lg shadow overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Grade</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="studentsList" class="divide-y divide-gray-200"></tbody>
                </table>
            </div>
        </section>

        <!-- Teachers Section -->
        <section id="teachers" class="section hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">Teacher Management</h2>
                <button onclick="showModal('teacherModal')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Add Teacher
                </button>
            </div>
            
            <div class="bg-white rounded-lg shadow overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Subject</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="teachersList" class="divide-y divide-gray-200"></tbody>
                </table>
            </div>
        </section>

        <!-- Classes Section -->
        <section id="classes" class="section hidden">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">Class Management</h2>
                <button onclick="showModal('classModal')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Add Class
                </button>
            </div>
            
            <div class="bg-white rounded-lg shadow overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Teacher</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="classesList" class="divide-y divide-gray-200"></tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Student Modal -->
    <div id="studentModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-lg max-w-md mx-auto mt-20">
            <h3 class="text-lg font-bold mb-4">Add Student</h3>
            <form id="studentForm" onsubmit="handleSubmit(event, 'student')">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Name</label>
                    <input type="text" name="name" required class="w-full px-3 py-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Grade</label>
                    <input type="text" name="grade" required class="w-full px-3 py-2 border rounded">
                </div>
                <div class="flex justify-end">
                    <button type="button" onclick="hideModal('studentModal')" class="mr-2 px-4 py-2 text-gray-600 hover:text-gray-800">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Teacher Modal -->
    <div id="teacherModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-lg max-w-md mx-auto mt-20">
            <h3 class="text-lg font-bold mb-4">Add Teacher</h3>
            <form id="teacherForm" onsubmit="handleSubmit(event, 'teacher')">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Name</label>
                    <input type="text" name="name" required class="w-full px-3 py-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Subject</label>
                    <input type="text" name="subject" required class="w-full px-3 py-2 border rounded">
                </div>
                <div class="flex justify-end">
                    <button type="button" onclick="hideModal('teacherModal')" class="mr-2 px-4 py-2 text-gray-600 hover:text-gray-800">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Class Modal -->
    <div id="classModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-lg max-w-md mx-auto mt-20">
            <h3 class="text-lg font-bold mb-4">Add Class</h3>
            <form id="classForm" onsubmit="handleSubmit(event, 'class')">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Name</label>
                    <input type="text" name="name" required class="w-full px-3 py-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Teacher</label>
                    <select name="teacher" required class="w-full px-3 py-2 border rounded" id="teacherSelect"></select>
                </div>
                <div class="flex justify-end">
                    <button type="button" onclick="hideModal('classModal')" class="mr-2 px-4 py-2 text-gray-600 hover:text-gray-800">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Data storage
        let students = [];
        let teachers = [];
        let classes = [];

        // Initialize with some sample data
        function initializeData() {
            // Sample students
            students = [
                { id: 1, name: 'John Doe', grade: '10th' },
                { id: 2, name: 'Jane Smith', grade: '11th' }
            ];

            // Sample teachers
            teachers = [
                { id: 1, name: 'Mr. Anderson', subject: 'Mathematics' },
                { id: 2, name: 'Mrs. Johnson', subject: 'English' }
            ];

            // Sample classes
            classes = [
                { id: 1, name: 'Math 101', teacher: 'Mr. Anderson' },
                { id: 2, name: 'English Literature', teacher: 'Mrs. Johnson' }
            ];

            // Render initial data
            renderStudents();
            renderTeachers();
            renderClasses();
            updateTeacherSelect();
        }

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
        }

        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Render functions
        function renderStudents() {
            const tbody = document.getElementById('studentsList');
            tbody.innerHTML = students.map(student => `
                <tr>
                    <td class="px-6 py-4">${student.id}</td>
                    <td class="px-6 py-4">${student.name}</td>
                    <td class="px-6 py-4">${student.grade}</td>
                    <td class="px-6 py-4">
                        <button onclick="deleteItem('student', ${student.id})" class="text-red-600 hover:text-red-800">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderTeachers() {
            const tbody = document.getElementById('teachersList');
            tbody.innerHTML = teachers.map(teacher => `
                <tr>
                    <td class="px-6 py-4">${teacher.id}</td>
                    <td class="px-6 py-4">${teacher.name}</td>
                    <td class="px-6 py-4">${teacher.subject}</td>
                    <td class="px-6 py-4">
                        <button onclick="deleteItem('teacher', ${teacher.id})" class="text-red-600 hover:text-red-800">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderClasses() {
            const tbody = document.getElementById('classesList');
            tbody.innerHTML = classes.map(cls => `
                <tr>
                    <td class="px-6 py-4">${cls.id}</td>
                    <td class="px-6 py-4">${cls.name}</td>
                    <td class="px-6 py-4">${cls.teacher}</td>
                    <td class="px-6 py-4">
                        <button onclick="deleteItem('class', ${cls.id})" class="text-red-600 hover:text-red-800">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function updateTeacherSelect() {
            const select = document.getElementById('teacherSelect');
            select.innerHTML = teachers.map(teacher => 
                `<option value="${teacher.name}">${teacher.name}</option>`
            ).join('');
        }

        // Form handling
        function handleSubmit(event, type) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            
            switch(type) {
                case 'student':
                    data.id = students.length + 1;
                    students.push(data);
                    renderStudents();
                    break;
                case 'teacher':
                    data.id = teachers.length + 1;
                    teachers.push(data);
                    renderTeachers();
                    updateTeacherSelect();
                    break;
                case 'class':
                    data.id = classes.length + 1;
                    classes.push(data);
                    renderClasses();
                    break;
            }

            hideModal(`${type}Modal`);
            event.target.reset();
        }

        // Delete function
        function deleteItem(type, id) {
            switch(type) {
                case 'student':
                    students = students.filter(student => student.id !== id);
                    renderStudents();
                    break;
                case 'teacher':
                    teachers = teachers.filter(teacher => teacher.id !== id);
                    renderTeachers();
                    updateTeacherSelect();
                    break;
                case 'class':
                    classes = classes.filter(cls => cls.id !== id);
                    renderClasses();
                    break;
            }
        }

        // Initialize the application
        initializeData();
    </script>
</body>
</html>